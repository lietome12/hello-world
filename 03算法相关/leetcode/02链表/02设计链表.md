## 设计链表

#### 题目链接：https://leetcode-cn.com/problems/design-linked-list/

#### 题目描述

在链表类中实现这些功能：

- get(index)：获取链表中第 index 个节点的值。如果索引无效，则返回-1。
- addAtHead(val)：在链表的第一个元素之前添加一个值为 val 的节点。插入后，新节点将成为链表的第一个节点。
- addAtTail(val)：将值为 val 的节点追加到链表的最后一个元素。
- addAtIndex(index,val)：在链表中的第 index 个节点之前添加值为 val 的节点。如果 index 等于链表的长度，则该节点将附加到链表的末尾。如果 index 大于链表长度，则不会插入节点。如果index小于0，则在头部插入节点。
- deleteAtIndex(index)：如果索引 index 有效，则删除链表中的第 index 个节点。

#### 思路





#### 代码

```
class ListNode() {
	int val;
	ListNode next;
	public ListNode(int val) {
		this.val = val;
	}
}
// 单链表 虚拟头指针
class MyLinkedNode() {
	int size;
	ListNode head;
	public MyLinkedNode() {
		this.size = 0;
		// 虚拟头节点
		this.head = new ListNode(0);
	}
	// 获取第index个节点值，没有返回-1
	public int get(int index) {
		if(index < 0 || index >= size) {
			return -1;
		}
		int i = 0;
		ListNode cur = head;
		while(i <= index) {
			cur = cur.next;
		}
		return cur.val;
	}
	// 在头节点前添加元素
	public void addAtHead(int val) {
		ListNode node = new ListNode(val);
		head.next = node;
		size++;
	}
	// 在尾节点后添加元素
	public void addAtTail(int val) {
		// next为null的
		addAtIndex(size, val);
	}
	// 在指定index后添加节点
	public void addAtIndex(int index, int val) {
		if(index > size) {
			return;
		}
		if(index < 0) {
			index = 0;
		}
		// 找到处于index节点的前一个元素
		ListNode pre = head;
		for(int i=0; i < index; i++) {
			pre = pre.next;
		}
		ListNode add = new ListNode(val);
		add.next = pre.next;
		pre.next = add;
		size++;
	}
	// 删除指定index的节点
	public void deleteAtIndex(int index) {
		if(index > size) {
			return;
		}
		if(index < 0) {
			index = 0;
		}
		// 找到处于index节点的前一个元素
		ListNode pre = head;
		for(int i=0; i < index; i++) {
			pre = pre.next;
		}
		pre.next = pre.next.next;
		size--;
	}
}
```

```
// 双链表 虚拟头、尾指针
class ListNode() {
	int val;
	ListNode pre;
	ListNode next;
	public ListNode(int val) {
		this.val = val;
	}
}
class MyLinkedNode() {
	int size;
	ListNode head;
	ListNode tail;
	public MyLinkedNode() {
		this.size = 0;
		// 虚拟头节点
		this.head = new ListNode(0);
		this.tail = new ListNode(0);
		head.next = tail;
		tail.pre = head;
	}
	// 获取第index个节点值，没有返回-1,下标从0开始
	public int get(int index) {
		if(index < 0 || index >= size) {
			return -1;
		}
		ListNode cur = head;
		// 判断是从head端查还是tail端
		if(index > (size - 1) / 2) {
			cur = tail;
			for(int i = 0; i <= size - index - 1; i++) {
				cur = cur.pre;
			}
		} else {
			for(int i = 0; i <= index; i++) {
				cur = cur.next;
			}
		}
		return cur.val;
	}
	// 在头节点前添加元素
	public void addAtHead(int val) {
		ListNode cur = head;
		ListNode add = new ListNode(val);
		add.next = cur.next;
		cur.next.pre = add;
		cur.next = add;
		add.pre = cur;
		size++;
	}
	// 在尾节点后添加元素
	public void addAtTail(int val) {
		ListNode cur = tail;
		ListNode add = new ListNode(val);
		add.pre = cur.pre;
		cur.pre.next = add;
		cur.pre = add;
		add.next = cur;
		size++;
	}
	// 在指定index添加节点
	public void addAtIndex(int index, int val) {
		if(index >= size) {
			return;
		}
		if(index < 0) {
			index = 0;
		}
		ListNode pre = head;
		for(int i = 0; i < index; i++) {
			pre = pre.next;
		}
		ListNode node = new ListNode(val);
		pre.next = node.next;
		pre.next.pre = node;
		pre.next = node;
		node.pre = pre;
		size++;
	}
	// 删除指定index的节点
	public void deleteAtIndex(int index) {
		if(index >= size) {
			return;
		}
		if(index < 0) {
			index = 0;
		}
		ListNode pre = head;
		for(int i = 0; i < index; i++) {
			pre = pre.next;
		}
		pre.next.next.pre = pre;
		pre.next = pre.next.next;
		size--;
	}
}
```

